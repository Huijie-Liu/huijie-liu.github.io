+++
title = 'ç›¸æœºçš„å¤–å‚å’Œå†…å‚'
date = 2024-06-03T20:31:53+08:00
draft = false
description = "è¯¦ç»†è®²è§£è®¡ç®—æœºè§†è§‰ä¸­ç›¸æœºçš„å†…å‚å’Œå¤–å‚æ¦‚å¿µï¼ŒåŒ…æ‹¬ç›¸æœºæ ‡å®šã€åæ ‡è½¬æ¢ã€æŠ•å½±çŸ©é˜µç­‰æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‚"
tags = ["Learning Note", "Graphics", "Computer Vision"]
categories = ["Learning"]
series = ["Learning Path"]
+++

# ç›¸æœºçš„å¤–å‚å’Œå†…å‚

# TLDR

<aside>
ğŸ’¡ **å¤–å‚çŸ©é˜µï¼š**å°†ç‚¹ä»ä¸–ç•Œåæ ‡ç³»è½¬æ¢åˆ°ç›¸æœºåæ ‡ç³»ã€‚

**å†…å‚çŸ©é˜µï¼š**å°†ç‚¹ä»ç›¸æœºåæ ‡ç³»è½¬æ¢åˆ°åƒç´ åæ ‡ç³»ã€‚

</aside>

# å…³é”®æ¦‚å¿µ

ç›¸æœºæ˜¯ç”¨äºæ•æ‰å›¾åƒçš„ä¼ æ„Ÿå™¨ï¼Œå®ƒä»¬å°†ä¸–ç•Œä¸­çš„ç‚¹æŠ•å½±åˆ°æˆ‘ä»¬çœ‹åˆ°çš„2Då¹³é¢ä¸Šã€‚

è¿™ç§å˜æ¢é€šå¸¸åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šå¤–éƒ¨å‚æ•°å’Œå†…éƒ¨å‚æ•°ã€‚ç›¸æœºçš„å¤–éƒ¨å‚æ•°å–å†³äºå…¶ä½ç½®å’Œæ–¹å‘ã€‚ç›¸æœºçš„å†…éƒ¨å‚æ•°åˆ™å–å†³äºå®ƒå¦‚ä½•æ•æ‰å›¾åƒï¼ˆç„¦è·ã€å…‰åœˆã€è§†åœºã€åˆ†è¾¨ç‡ï¼‰ã€‚

### åæ ‡ç³»

åœ¨æˆåƒè¿‡ç¨‹ä¸­ï¼Œä¸»è¦ä½¿ç”¨ä¸‰ç§åæ ‡ç³»ï¼š

![Untitled](%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%A4%96%E5%8F%82%E5%92%8C%E5%86%85%E5%8F%82%2036ff5bff299449a09b551c0176c76ee6/Untitled.png)

1. **ä¸–ç•Œåæ ‡ç³»ï¼ˆ3Dï¼‰**ï¼šè¿™æ˜¯ä¸€ä¸ªå›ºå®šçš„å…¨å±€åæ ‡ç³»ï¼Œç”¨äºæè¿°åœºæ™¯ä¸­ç‰©ä½“çš„ç»å¯¹ä½ç½®ã€‚
2. **ç›¸æœºåæ ‡ç³»ï¼ˆ3Dï¼‰**ï¼šè¿™æ˜¯ä»¥ç›¸æœºä¸ºä¸­å¿ƒçš„åæ ‡ç³»ï¼Œç”¨äºæè¿°ç›¸å¯¹äºç›¸æœºçš„ç‰©ä½“ä½ç½®ã€‚
3. **å›¾åƒåæ ‡ç³»ï¼ˆ2Dï¼‰**ï¼šè¿™æ˜¯æŠ•å½±åˆ°2Då›¾åƒå¹³é¢ä¸Šçš„åæ ‡ç³»ï¼Œç”¨äºæè¿°å›¾åƒä¸Šåƒç´ çš„ä½ç½®ã€‚
4. **åƒç´ åæ ‡ç³»ï¼ˆ2Dï¼‰**ï¼šè¿™æ˜¯å…·ä½“åˆ°å›¾åƒåƒç´ çš„åæ ‡ç³»ï¼Œé€šå¸¸ä»¥å›¾åƒå·¦ä¸Šè§’ä¸ºåŸç‚¹ã€‚

### å¤–éƒ¨å‚æ•°

å¤–éƒ¨å‚æ•°åŒ…æ‹¬æ—‹è½¬çŸ©é˜µ $R$ å’Œå¹³ç§»å‘é‡ $t$ ï¼Œå®ƒä»¬æè¿°äº†ä¸–ç•Œåæ ‡ç³»åˆ°ç›¸æœºåæ ‡ç³»çš„å˜æ¢ã€‚å…·ä½“æ¥è¯´ï¼Œç»™å®šä¸€ä¸ªä¸–ç•Œåæ ‡ç³»ä¸­çš„ç‚¹ $P_w$ ï¼Œé€šè¿‡å¤–éƒ¨å‚æ•°å˜æ¢å¯ä»¥å¾—åˆ°ç›¸æœºåæ ‡ç³»ä¸­çš„ç‚¹ $P_c$ ï¼š

$P_c = R \cdot P_w + t$

å…¶ä¸­ $R$ $$ æ˜¯ä¸€ä¸ª $3 \times 3$ çš„æ—‹è½¬çŸ©é˜µï¼Œ $t$ æ˜¯ä¸€ä¸ª $3 \times 1$ çš„å¹³ç§»å‘é‡ã€‚

### å†…éƒ¨å‚æ•°

å†…éƒ¨å‚æ•°æè¿°äº†ç›¸æœºçš„æˆåƒç‰¹æ€§ï¼Œä¸»è¦åŒ…æ‹¬ç„¦è· $f$ ã€ä¸»ç‚¹ $(c_x, c_y)$ ã€åƒç´ å°ºå¯¸ç­‰ã€‚å†…éƒ¨å‚æ•°çŸ©é˜µ $K$ å¯ä»¥è¡¨ç¤ºä¸ºï¼š

$K = \begin{pmatrix} f_x & 0 & c_x \\ 0 & f_y & c_y \\ 0 & 0 & 1 \end{pmatrix}$

å…¶ä¸­ $f_x$ å’Œ $f_y$ æ˜¯æ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘çš„ç„¦è·ï¼Œ $c_x$ å’Œ $c_y$ æ˜¯ä¸»ç‚¹ï¼ˆå³å…‰è½´ä¸å›¾åƒå¹³é¢çš„äº¤ç‚¹ï¼‰çš„åæ ‡ã€‚

### å›¾åƒå½¢æˆ

é€šè¿‡å°†å¤–éƒ¨å’Œå†…éƒ¨å‚æ•°ç»“åˆèµ·æ¥ï¼Œå¯ä»¥å°†ä¸–ç•Œåæ ‡ç³»ä¸­çš„ç‚¹è½¬æ¢åˆ°å›¾åƒåæ ‡ç³»ä¸­ã€‚é¦–å…ˆï¼Œä½¿ç”¨å¤–éƒ¨å‚æ•°å°†ä¸–ç•Œåæ ‡ç³»ä¸­çš„ç‚¹è½¬æ¢åˆ°ç›¸æœºåæ ‡ç³»ï¼š

$P_c = R \cdot P_w + t$

ç„¶åï¼Œä½¿ç”¨å†…éƒ¨å‚æ•°å°†ç›¸æœºåæ ‡ç³»ä¸­çš„ç‚¹æŠ•å½±åˆ°å›¾åƒå¹³é¢ï¼š

$\begin{pmatrix} u \\ v \\ 1 \end{pmatrix} = K \cdot P_c$

å…¶ä¸­ $(u, v)$ æ˜¯å›¾åƒå¹³é¢ä¸Šçš„åƒç´ åæ ‡ã€‚

# æˆåƒæ­¥éª¤

1. **ä¸–ç•Œåæ ‡ç³»ï¼ˆ3Dï¼‰**

   ![Untitled](%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%A4%96%E5%8F%82%E5%92%8C%E5%86%85%E5%8F%82%2036ff5bff299449a09b551c0176c76ee6/Untitled%201.png)

2. **ç›¸æœºåæ ‡ç³»ï¼ˆ3Dï¼‰**

   ![Untitled](%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%A4%96%E5%8F%82%E5%92%8C%E5%86%85%E5%8F%82%2036ff5bff299449a09b551c0176c76ee6/Untitled%202.png)

   ![Untitled](%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%A4%96%E5%8F%82%E5%92%8C%E5%86%85%E5%8F%82%2036ff5bff299449a09b551c0176c76ee6/Untitled%203.png)

   $\begin{pmatrix}X_C\\Y_C\\Z_C\\1\end{pmatrix}=\underbrace{\begin{pmatrix}R_{3\times3}&t_{3\times1}\\0_{1\times3}&1_{1\times1}\end{pmatrix}}_{(4\times4)}\begin{pmatrix}X_W\\Y_W\\Z_W\\1\end{pmatrix}\\\text{Camera Extrinsic Matrix}$

3. **å›¾åƒåæ ‡ç³»ï¼ˆ2Dï¼‰ï¼šé’ˆå­”æ¨¡å‹**
   1. **é’ˆå­”æ¨¡å‹**ï¼šå…‰çº¿é€šè¿‡ç›¸æœºå¼€å£çš„ä¸­å¿ƒï¼Œå¹¶åœ¨å¦ä¸€ç«¯æŠ•å½±åˆ°äºŒç»´å¹³é¢ä¸Šã€‚ç›¸æœºæ•æ‰åˆ°çš„å›¾åƒå°±æ˜¯è¿™ä¸ªäºŒç»´å¹³é¢ã€‚

      > è¿™æ˜¯ä¸€ç§æœ‰æŸå˜æ¢ï¼Œè¿™æ„å‘³ç€å°†ç‚¹ä»ç›¸æœºåæ ‡ç³»æŠ•å½±åˆ°äºŒç»´å¹³é¢ä¸Šæ˜¯ä¸å¯é€†çš„ï¼ˆæ·±åº¦ä¿¡æ¯ä¸¢å¤±ï¼‰ã€‚

      ![Untitled](%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%A4%96%E5%8F%82%E5%92%8C%E5%86%85%E5%8F%82%2036ff5bff299449a09b551c0176c76ee6/Untitled%204.png)

   2. **ç¡®å®šåæ ‡**ï¼šç‚¹çš„Xå’ŒYåæ ‡è¢«æŠ•å½±åˆ°äºŒç»´å¹³é¢ä¸Šã€‚äºŒç»´å¹³é¢è·ç¦»ç›¸æœºä¸º fï¼ˆç„¦è·ï¼‰ã€‚æŠ•å½± $( X_i, Y_i )$ å¯ä»¥é€šè¿‡ç›¸ä¼¼ä¸‰è§’å½¢æ³•åˆ™æ‰¾åˆ°ï¼ˆè¿›å…¥å’Œç¦»å¼€ç›¸æœºä¸­å¿ƒçš„å…‰çº¿ä¸xè½´å’Œyè½´çš„è§’åº¦ç›¸åŒï¼Œåˆ†åˆ«ä¸º $\alpha$ å’Œ $\beta$ ï¼‰ã€‚

      ![Untitled](%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%A4%96%E5%8F%82%E5%92%8C%E5%86%85%E5%8F%82%2036ff5bff299449a09b551c0176c76ee6/Untitled%205.png)

      $\begin{pmatrix}X_i\\Y_i\\Z_C\end{pmatrix}=\begin{pmatrix}f&0&0&0\\0&f&0&0\\0&0&1&0\end{pmatrix}\begin{pmatrix}X_C\\Y_C\\Z_C\\1\end{pmatrix}$
4. **åƒç´ åæ ‡ç³»ï¼ˆ2Dï¼‰**
   1. å¸¸è§„æƒ…å†µ

      1. åƒç´ åæ ‡ç³» $[u, v]$ è¡¨ç¤ºé€šè¿‡å°†å›¾åƒåæ ‡ç³»ä¸­çš„ç‚¹ç¦»æ•£åŒ–è€Œå¾—åˆ°çš„æ•´æ•°å€¼ã€‚
      2. åƒç´ åæ ‡ç³»çš„åŸç‚¹åœ¨å·¦ä¸Šè§’ï¼Œå› æ­¤é™¤äº†ç¦»æ•£åŒ–ä¹‹å¤–ï¼Œè¿˜éœ€è¦ä¸€ä¸ªå¹³ç§»æ“ä½œ $(c_x, c_y)$ã€‚

      ![Untitled](%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%A4%96%E5%8F%82%E5%92%8C%E5%86%85%E5%8F%82%2036ff5bff299449a09b551c0176c76ee6/Untitled%206.png)

      ![Untitled](%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%A4%96%E5%8F%82%E5%92%8C%E5%86%85%E5%8F%82%2036ff5bff299449a09b551c0176c76ee6/Untitled%207.png)

      $\begin{pmatrix}u\\v\\w\end{pmatrix}=\begin{pmatrix}1/\rho_u&0&c_x\\0&1/\rho_v&c_y\\0&0&1\end{pmatrix}\begin{pmatrix}X_i\\Y_i\\Z_C\end{pmatrix}$

   2. ç‰¹æ®Šæƒ…å†µ

      > æœ‰æ—¶ï¼ŒäºŒç»´å›¾åƒå¹³é¢ä¸æ˜¯çŸ©å½¢ï¼Œè€Œæ˜¯å€¾æ–œçš„ï¼Œå³Xè½´å’ŒYè½´ä¹‹é—´çš„è§’åº¦ä¸æ˜¯90åº¦ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨è¿›è¡Œä»å›¾åƒåˆ°åƒç´ åæ ‡ç³»çš„å˜æ¢ä¹‹å‰ï¼Œéœ€è¦è¿›è¡Œå¦ä¸€ä¸ªå˜æ¢å°†ç‚¹ä»ç†æƒ³çš„çŸ©å½¢å¹³é¢è½¬æ¢åˆ°å€¾æ–œå¹³é¢ã€‚

      ![Untitled](%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%A4%96%E5%8F%82%E5%92%8C%E5%86%85%E5%8F%82%2036ff5bff299449a09b551c0176c76ee6/Untitled%208.png)

      $\binom{x_{skew}}{y_{skew}}=\begin{pmatrix}1&-\cot(\theta)\\0&1/_{\sin(\theta)}\end{pmatrix}\binom{x}{y}$

# æ€»ç»“

## å˜æ¢

1. **ä¸–ç•Œåˆ°ç›¸æœºï¼ˆWorld-to-Cameraï¼‰**ï¼š3Dåˆ°3Dçš„æŠ•å½±ã€‚åŒ…æ‹¬æ—‹è½¬ã€ç¼©æ”¾å’Œå¹³ç§»æ“ä½œã€‚
2. **ç›¸æœºåˆ°å›¾åƒï¼ˆCamera-to-Imageï¼‰**ï¼š3Dåˆ°2Dçš„æŠ•å½±ã€‚æœ‰ä¿¡æ¯ä¸¢å¤±ï¼Œå–å†³äºç›¸æœºæ¨¡å‹åŠå…¶å‚æ•°ï¼ˆå¦‚é’ˆå­”æ¨¡å‹ã€f-thetaç­‰ï¼‰ã€‚
3. **å›¾åƒåˆ°åƒç´ ï¼ˆImage-to-Pixelï¼‰**ï¼š2Dåˆ°2Dçš„æŠ•å½±ã€‚ä»è¿ç»­åˆ°ç¦»æ•£ã€‚åŒ…æ‹¬é‡åŒ–å’ŒåŸç‚¹ç§»åŠ¨ã€‚

![Untitled](%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%A4%96%E5%8F%82%E5%92%8C%E5%86%85%E5%8F%82%2036ff5bff299449a09b551c0176c76ee6/Untitled%209.png)

## å‚æ•°

1. ç›¸æœºå¤–å‚çŸ©é˜µ (World-to-Camera)

   å°†ç‚¹ä»ä¸–ç•Œåæ ‡ç³»è½¬æ¢åˆ°ç›¸æœºåæ ‡ç³»ã€‚å–å†³äºç›¸æœºçš„ä½ç½®å’Œæ–¹å‘ã€‚

2. ç›¸æœºå†…å‚çŸ©é˜µ (Camera-to-Image, Image-to-Pixel)

   å°†ç‚¹ä»ç›¸æœºåæ ‡ç³»è½¬æ¢åˆ°åƒç´ åæ ‡ç³»ã€‚å–å†³äºç›¸æœºçš„å±æ€§ï¼ˆå¦‚ç„¦è·ã€åƒç´ å°ºå¯¸ã€åˆ†è¾¨ç‡ç­‰ï¼‰ã€‚

# å‚è€ƒæ–‡çŒ®

1. [What are Intrinsic and Extrinsic Camera Parameters in Computer Vision?](https://towardsdatascience.com/what-are-intrinsic-and-extrinsic-camera-parameters-in-computer-vision-7071b72fb8ec)

